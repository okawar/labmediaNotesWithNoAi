<script setup lang="ts">
import { computed } from 'vue';
import { useRoute } from 'vue-router';
import { useNotesStore } from '../stores/notes';

defineProps<{
    isArchivePage?: boolean
}>()

const notesStore = useNotesStore();
const route = useRoute();

const notesCount = computed(() => {
    return route.name === 'Archive' ? notesStore.archive.length : notesStore.notes.length;
});
</script>

<template>
    <div class="footer" v-show="!isArchivePage">
        <span>Всего заметок: {{ notesCount }}</span>
        <span class="footer__author">
            <!-- Иконка профиля -->
            <svg width="36" height="36" viewBox="0 0 36 36" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M27 30C27 27.6131 26.0518 25.3239 24.364 23.636C22.6761 21.9482 20.3869 21 18 21C15.6131 21 13.3239 21.9482 11.636 23.636C9.94821 25.3239 9 27.6131 9 30"
                    fill="#E1D9E8" fill-opacity="0.3" />
                <path
                    d="M18 21C21.3137 21 24 18.3137 24 15C24 11.6863 21.3137 9 18 9C14.6863 9 12 11.6863 12 15C12 18.3137 14.6863 21 18 21Z"
                    fill="#E1D9E8" fill-opacity="0.3" />
                <path
                    d="M18 33C26.2843 33 33 26.2843 33 18C33 9.71573 26.2843 3 18 3C9.71573 3 3 9.71573 3 18C3 26.2843 9.71573 33 18 33Z"
                    fill="#E1D9E8" fill-opacity="0.3" />
                <path
                    d="M27 30C27 27.6131 26.0518 25.3239 24.364 23.636C22.6761 21.9482 20.3869 21 18 21M18 21C15.6131 21 13.3239 21.9482 11.636 23.636C9.94821 25.3239 9 27.6131 9 30M18 21C21.3137 21 24 18.3137 24 15C24 11.6863 21.3137 9 18 9C14.6863 9 12 11.6863 12 15C12 18.3137 14.6863 21 18 21ZM33 18C33 26.2843 26.2843 33 18 33C9.71573 33 3 26.2843 3 18C3 9.71573 9.71573 3 18 3C26.2843 3 33 9.71573 33 18Z"
                    stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>

        notes-app@Stulov A.S.</span>
    </div>
</template>

<style scoped>
    .footer {
        margin-top: var(--spacing-m);
        padding: var(--spacing-s);
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 18px;
        color: var(--color-black); 
    }

    .footer__author {
        display: flex;
        align-items: center;
        width: 230px;
        justify-content: space-between;
    }

    @media (max-width: 375px) {
        .footer{
            display: none;
        }
    }
</style>